# ========================================
# Excel帳票エンジン バックエンド設定ファイル
# ========================================

# アプリケーション基本設定
APP_NAME=Excel帳票エンジン
APP_VERSION=1.0.0
DEBUG=True
LOG_LEVEL=INFO

# CORS設定
ALLOWED_ORIGINS=["http://localhost:3000","http://localhost:8000"]
ALLOWED_CREDENTIALS=True
ALLOWED_METHODS=["GET","POST","PUT","DELETE","OPTIONS"]
ALLOWED_HEADERS=["*"]

# データベース設定 (PostgreSQL)
DATABASE_URL=postgresql+asyncpg://excel_user:excel_password@localhost:5432/excel_engine
DATABASE_ECHO=False
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10
DATABASE_POOL_PRE_PING=True

# セキュリティ設定
# ⚠️ 本番環境では必ず変更してください
SECRET_KEY=your-secret-key-change-in-production-please
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
SIGNED_URL_EXPIRE_SECONDS=3600

# ストレージ設定
STORAGE_TYPE=local
STORAGE_LOCAL_PATH=storage
STORAGE_TEMPLATES_PATH=storage/templates
STORAGE_OUTPUTS_PATH=storage/outputs

# S3 ストレージ設定 (STORAGE_TYPE=s3 の場合)
# S3_BUCKET=document-bucket
# S3_REGION=ap-northeast-1
# S3_ENDPOINT=https://s3.amazonaws.com
# S3_ACCESS_KEY_ID=your-access-key
# S3_SECRET_ACCESS_KEY=your-secret-key

# ファイルアップロード設定
MAX_UPLOAD_SIZE_MB=50
ALLOWED_FILE_EXTENSIONS=[".xlsx",".xlsm"]

# テンプレート設定
TEMPLATE_DEFAULT_TIMEOUT_SECONDS=30
TEMPLATE_MAX_CELLS=10000
TEMPLATE_MAX_MERGE_RANGES=500

# 生成履歴設定
GENERATION_HISTORY_RETENTION_DAYS=90
GENERATION_OUTPUT_RETENTION_DAYS=30

# API設定
API_V1_PREFIX=/api/v1
API_DOCS_URL=/docs
API_OPENAPI_URL=/openapi.json
API_REDOC_URL=/redoc
